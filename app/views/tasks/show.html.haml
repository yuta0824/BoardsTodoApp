%div.bg-white.shadow-lg.rounded-lg.max-w-xl.container.p-0.relative.z-2.overflow-hidden
    -if @task.thumbnail&.attached?
        =image_tag @task.thumbnail, class: "w-full aspect-[3/1] object-cover"
    .p-6.flex.flex-col.gap-5
        .flex.justify-between
            .flex.gap-1.items-center.py-1.px-3.border.rounded-full.text-gray-500.w-fit.text-xs
                Board:
                =link_to @board.name, board_path(@board.id), class: "hover:text-blue-500"
            -if user_signed_in? && @task.user == current_user
                %button.ml-auto.cursor-pointer.relative.focus:border-blue-500.focus:ring-opacity-40.focus:ring-blue-300.focus:ring.focus:outline-none{class: "hover:[&>*]:opacity-100 hover:[&>*]:visible focus-within:[&>*]:opacity-100 focus-within:[&>*]:visible"}
                    %span.text-gray-600.tracking-tighter ・・・
                    .absolute.w-fit.top-full.right-0.z-10.w-30.bg-white.rounded-md.shadow-xl.opacity-0.invisible.transition-opacity.delay-100
                        =link_to edit_board_task_path(@board.id, @task.id) do
                            .flex.items-center.p-3.text-sm.text-gray-600.capitalize.transition-colors.duration-300.transform.hover:bg-gray-100
                                =image_tag "icon_write.svg", class:"w-5 h-5 mx-1"
                                %span.mx-1
                                    Edit
                        = link_to board_task_path(@board.id, @task.id), data: { turbo_confirm: "この操作は取り消せません。本当に削除しますか？",turbo_method: 'delete'} do
                            .flex.items-center.p-3.text-sm.text-gray-600.capitalize.transition-colors.duration-300.transform.hover:bg-gray-100
                                =image_tag "icon_delete.svg", class:"w-5 h-5 mx-1 flex-shrink-0"
                                %p.mx-1.flex-1
                                    Delete
        .flex.flex-col.gap-1
            -if @task.due_date
                .text-gray-500.text-xs 締切：#{@task.due_date}
            %h2.font-bold.text-lg #{@task.name}
        .text-gray-500 #{@task.description}